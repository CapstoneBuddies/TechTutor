RewriteEngine On

#RewriteBase /

# Remove trailing slashes except for root "/"
RewriteCond %{REQUEST_URI} ^(.+)/$ [NC]
RewriteRule ^(.+)/$ %1 [R=301,L]

#Route to homepage
#RewriteRule ^home$ index.php [L]

#Route to homepage
RewriteRule ^(.*)/?home$ backends/route.php [L]

#Route /login to pages/login.php
RewriteRule ^login$ pages/login.php [L]

#Route /register to pages/signup.php
RewriteRule ^register$ pages/signup.php [L]

#Route /verify to pages/verify.php
RewriteRule ^verify$ pages/verify.php [L]

#Route logics to route.php
RewriteRule ^(.*)/?user-login$ backends/route.php [L]
RewriteRule ^(.*)/?user-register$ backends/route.php [L]
RewriteRule ^(.*)/?user-logout$ backends/route.php [L]
RewriteRule ^(.*)/?verify_code$ backends/route.php [L]


# Redirect user to student pages if role=TechKids
RewriteCond %{HTTP_COOKIE} role=TECHKIDS(;|$)
RewriteRule ^dashboard$ pages/techkid_dashboard.php [L]
RewriteRule ^dashboard/profile$ pages/techkid_profile.php [L]

# Redirect user to tutor pages if role=TechGuru
RewriteCond %{HTTP_COOKIE} role=TECHGURU(;|$)
RewriteRule ^dashboard$ pages/techguru_dashboard.php [L]
RewriteRule ^profile$ pages/techguru_profile.php [L]

# Redirect user to admin pages if role=Admin
RewriteCond %{HTTP_COOKIE} role=ADMIN(;|$)
RewriteRule ^dashboard$ pages/admin_dashboard.php [L]
RewriteRule ^profile$ pages/admin_profile.php [L]